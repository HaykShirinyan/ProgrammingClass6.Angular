<loading-indicator *ngIf="isLoading" message="Loading Create UnitOfMeasure..." />
<back-indicator [routerLink]="['/unit-of-measures']"></back-indicator>

<h1>Create Unit Of Measure</h1>

<form #unitOfMeasureForm="ngForm" (ngSubmit)="createUnitOfMeasure(unitOfMeasureForm)">
  <div class="mb-3">
    <label for="unitOfMeasure-name">Name</label>
    <input id="unitOfMeasure-name"
           name="name"
           required
           maxlength="100"
           class="form-control"
           [(ngModel)]="unitOfMeasure.name"
           #nameField="ngModel" />

    <div *ngIf="nameField.invalid && unitOfMeasureForm.submitted" class="text-danger">
      <div *ngIf="nameField.errors?.['required']">
        This field is required.
      </div>
    </div>
  </div>

  <div class="mb-3">
    <label for="unitOfMeasure-type">Type</label>
    <textarea id="unitOfMeasure-type"
              name="type"
              required
              maxlength="500"
              class="form-control"
              [(ngModel)]="unitOfMeasure.type"></textarea>
  </div>

  <div class="mb-3">
    <label for="unitOfMeasure-unitOfMeasureValue">Unit Of Measure Value</label>
    <input id="unitOfMeasure-unitOfMeasureValue"
           name="unitOfMeasureValue"
           class="form-control"
           type="number"
           [(ngModel)]="unitOfMeasure.unitOfMeasureValue" />
  </div>

  <div class="mb-3">
    <label for="unitOfMeasure-price">Price</label>
    <input id="unitOfMeasure-price"
           name="price"
           class="form-control"
           type="number"
           [(ngModel)]="unitOfMeasure.price" />
  </div>

  <div class="mb-3">
    <label for="unitOfMeasure-quantity">Quantity</label>
    <input id="unitOfMeasure-quantity"
           name="quantity"
           class="form-control"
           type="number"
           [(ngModel)]="unitOfMeasure.quantity" />
  </div>

  <div class="mb-3">
    <label for="unitOfMeasure-manufacturer">Manufacturer</label>
    <select id="unitOfMeasure-manufacturer"
            name="manufacturer"
            class="form-control"
            [ngModel]="unitOfMeasure.manufacturer?.id"
            (ngModelChange)="manufacturerChanged($event)">
      <option value="">-- Select Manufacturer --</option>
      <option *ngFor="let manufacturer of manufacturers" [value]="manufacturer.id">
        {{ manufacturer.name }}
      </option>
    </select>
  </div>

  <div>
    <button type="submit" class="btn btn-primary">Save</button>
  </div>
</form>
